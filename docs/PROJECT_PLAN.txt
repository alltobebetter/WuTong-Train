项目实施计划（含 Electron 集成）
================================

一、项目目标
------------
在现有算法能力基础上，交付一个可演示、可调用、可扩展的“AI安全告警智能研判系统”：
1. 后端：稳定完成告警导入、降噪、分类、风险评分、报告输出。
2. 前端（Electron）：提供可操作界面，完成上传、任务执行、可视化展示、报告导出。
3. 训练与推理分离：线上只推理，训练离线进行并版本化发布。

二、总体验收口径
----------------
1. 端到端闭环：上传文件 -> 任务执行 -> 展示结果 -> 导出报告。
2. 万级数据可处理，任务状态可追踪。
3. 同模型版本、同输入，结果稳定一致。
4. 前后端解耦，接口契约固定。

三、分阶段计划
--------------

Phase 1：后端基础稳定化（当前优先）
--------------------------------
目标：把现有 Python 能力从“脚本”固化为“可服务化模块”。

交付物：
1. 统一数据入口（xlsx/csv -> parquet）。
2. 推理流水线模块化（ingest/features/denoise/classify/risk/report）。
3. 模型工件版本化加载（models/<version>/ + manifest）。
4. API 基础接口可用（jobs/status/result/export）。

完成定义：
1. `scripts/infer.py` 可稳定运行，输出标准产物。
2. `src/api/app.py` 可提交任务并查询结果。
3. 推理链路不触发训练。

---

Phase 2：Electron 集成（主线）
-----------------------------
目标：交付完整可演示桌面端。

前端模块：
1. 文件上传页：支持选择 xlsx/csv，显示字段校验结果。
2. 任务中心页：任务队列、状态进度、失败原因。
3. 结果总览页：核心指标卡、风险等级分布、攻击类型分布。
4. 告警明细页：筛选、分页、单条详情、处置建议。
5. 导出页：下载 txt/csv/png 报告。

前后端契约（第一版）：
1. `POST /jobs`  
请求：文件 + 可选 model_version  
响应：job_id、status
2. `GET /jobs/{id}`  
响应：status、message
3. `GET /jobs/{id}/result`  
响应：summary、risk_summary、aggregation_stats、files
4. `GET /jobs/{id}/files/{filename}` / `GET /export/{id}/{fmt}`  
响应：文件流下载

完成定义：
1. Electron 可发起任务并完整展示结果。
2. 不依赖手工拷贝文件即可完成演示闭环。

---

Phase 3：智能研判增强（赛题得分向）
----------------------------------
目标：从“传统ML结果”升级到“可解释AI研判”。

交付物：
1. AI解释层（规则+LLM，可开关）：
   - 攻击摘要
   - 风险理由
   - 处置建议说明
2. 结果可追溯：
   - 模型版本
   - 输入文件哈希
   - 参数快照
3. 评估输出标准化：
   - 降噪指标
   - 分类指标
   - 风险分布

完成定义：
1. 每条高风险告警可给出可读解释。
2. 报告中包含“模型版本+证据链”字段。

---

Phase 4：交付收口与答辩准备
--------------------------
目标：形成可提交、可复现、可答辩的版本。

交付物：
1. 技术文档（架构、数据流、模型、实验结果、合规说明）。
2. 接口文档（API 输入输出示例）。
3. 演示脚本（从导入到导出全流程）。
4. 交付包（不含原始敏感数据）。

完成定义：
1. 全流程可在新环境按文档复现。
2. 关键结果与演示一致。

四、工作分工建议（可调整）
------------------------
1. 算法后端：pipeline、模型管理、风险评分。
2. 接口后端：API、任务管理、导出接口。
3. 前端（Electron）：页面、状态管理、图表展示、文件下载。
4. 文档与测试：验收脚本、答辩材料、合规检查。

五、关键风险与控制
----------------
1. 风险：前后端接口频繁变动。  
控制：先冻结 v1 API 契约，再并行开发。

2. 风险：推理性能不稳定。  
控制：建立万级样本压测基线，限制同步阻塞操作。

3. 风险：结果可解释性不足。  
控制：增加解释层和报告证据字段。

4. 风险：比赛数据合规问题。  
控制：交付包不含原始数据，仅含模型与必要中间结果。

六、里程碑时间框架（建议）
------------------------
1. M1（后端稳定化）：1 周  
2. M2（Electron 集成）：1-2 周  
3. M3（智能研判增强）：1 周  
4. M4（收口与答辩）：0.5-1 周  

七、当前版本范围声明
------------------
本计划以“先跑通产品闭环，再提升AI能力”为主线：
1. 当前优先保证可用性和可展示性。
2. 微调与深度模型增强放在后续版本，不阻塞主线交付。
